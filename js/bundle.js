!function(){"use strict";function t(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)}function e(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll(e))}const s=(e,t,s)=>e.addEventListener(t,s);function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a{constructor(e){i(this,"handleElemKeyDown",e=>{" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.toggle())}),i(this,"handleElemClick",e=>{e.preventDefault(),this.toggle()}),this.elem=e,this.target=this.getTarget(this.elem),this.activeClass="is-toggled",this.enabledClass="has-toggler",this.handleElemClick=this.handleElemClick.bind(this),this.init()}init(){this.target&&(this.addListeners(),this.elem.classList.add(this.enabledClass),this.target.classList.add(this.enabledClass))}addListeners(){this.elem.addEventListener("click",this.handleElemClick),this.elem.addEventListener("keydown",this.handleElemKeyDown)}getTarget(e){e=e.getAttribute("data-toggle-target");return document.querySelector(e)}open(e,t){t&&t.classList.add(this.activeClass),e&&(e.classList.add(this.activeClass),this.setAriaExpanded(e,!0))}setAriaExpanded(e,t){e.hasAttribute("aria-expanded")&&e.setAttribute("aria-expanded",String(t))}close(e,t){t&&t.classList.remove(this.activeClass),e&&(e.classList.remove(this.activeClass),this.setAriaExpanded(e,!1))}isToggled(e){return e.classList.contains(this.activeClass)}toggle(){if(!this.isToggled(this.target))return this.open(this.elem,this.target);this.close(this.elem,this.target)}}const n=e("[data-toggle-target]");n.forEach(e=>new a(e));class l{constructor(e){i(this,"handleKeyUp",e=>{" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.showVideo())}),i(this,"handleVideoEmbedClick",e=>{e.preventDefault(),this.showVideo()}),this.elem=e,this.content=t(".js-video-content",e),this.link=t(".js-video-link",e),this.iframe=e.getAttribute("data-video"),this.activeClass="has-video",this.init()}init(){this.addListeners()}addListeners(){this.link&&(console.log(this.link),s(this.link,"click",this.handleVideoEmbedClick),s(this.link,"keydown",this.handleKeyUp))}showVideo(){var e;this.elem.classList.add(this.activeClass),this.iframe?(e=(e=>{const t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue})(this.iframe),this.content&&(console.log(this.content),this.content.innerHTML=e||this.iframe)):console.warn("No data-video set for video",this.elem)}}const h=e(".js-video");console.log(h),h.forEach(e=>new l(e))}();
//# sourceMappingURL=bundle.js.map
